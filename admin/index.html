<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>后台管理 - Cybar</title>
    <link rel="stylesheet" href="/style.css"> <!-- Link to global styles -->
    <!-- Add specific admin styles if needed -->
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <header>
        <h1>后台管理</h1>
        <div id="user-status">
            <!-- Status loaded by global.js -->
            <a href="/auth/login/">登录</a> | <a href="/auth/register/">注册</a>
        </div>
    </header>

    <nav>
        <a href="/" class="back-link">返回主菜单</a>
    </nav>

    <main>
        <section id="admin-dashboard">
            <h2>
                仪表盘
                <button id="refresh-admin-data-btn" class="refresh-btn" title="刷新数据">🔄</button> <!-- Add Refresh Button -->
            </h2>

            <!-- Statistics Section -->
            <div class="admin-section" id="stats-section">
                <h3>统计数据</h3>
                <div id="admin-stats">加载中...</div> <!-- General stats loading/error message -->
                <ul>
                    <li>总配方数: <span id="stat-total-recipes">N/A</span></li>
                    <li>总用户数: <span id="stat-total-users">N/A</span></li>
                    <li>页面访问次数:
                        <ul id="stat-page-visits">
                            <!-- Visit counts will be loaded here -->
                            <li>主界面: <span data-path="/">N/A</span></li>
                            <li>配方列表: <span data-path="/recipes/">N/A</span></li>
                            <li>计算器: <span data-path="/calculator/">N/A</span></li>
                            <li>添加配方页访问: <span data-path="/add/">N/A</span></li>
                            <li>管理后台访问: <span data-path="/admin/">N/A</span></li>
                        </ul>
                    </li>
                </ul>
            </div>

            <!-- Recipe Management Section -->
            <div class="admin-section" id="recipes-management-section">
                <h3>配方管理</h3>
                <p id="admin-message" class="message"></p> <!-- Status/Error messages -->
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>名称</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody id="admin-recipe-list">
                            <!-- Recipe rows will be loaded here by admin.js -->
                            <tr><td colspan="3">正在加载配方...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </section>
    </main>

    <footer>
        <p>&copy; 2025 Cybar<br>made by 252</p>
    </footer>

    <script src="/js/global.js"></script> <!-- Global script for user status -->
    <script src="admin.js"></script>    <!-- Specific script for admin page -->
</body>
</html>
