<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 更新标题 -->
    <title>添加新配方 - Cybar</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Electrolize&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css"> <!-- Link to the main CSS file -->
    <!-- 不再需要内联样式 -->
</head>
<body>
    <header>
        <!-- 更新头部标题 -->
        <h1>添加新配方</h1>
        <div id="user-status">
            <!-- Status will be loaded here by global.js -->
            <a href="/auth/login/">登录</a> | <a href="/auth/register/">注册</a>
        </div>
    </header>

    <nav>
        <!-- 更新返回链接到主菜单 -->
        <a href="../" class="back-link">&laquo; 返回主菜单</a>
    </nav>

    <main>
        <!-- 使用 section 包裹表单 -->
        <section id="admin-add">
            <h2>填写配方详情</h2>
            <form id="add-recipe-form">
                <!-- 使用 form-group 包裹名称 -->
                <div class="form-group">
                    <label for="cocktail-name">鸡尾酒名称:</label>
                    <input type="text" id="cocktail-name" name="cocktail-name" placeholder="例如：金汤力" required>
                </div>

                <!-- 使用 form-group 包裹说明 -->
                <div class="form-group">
                    <label for="instructions">制作说明:</label>
                    <textarea id="instructions" name="instructions" rows="5" placeholder="描述调制步骤..." required></textarea>
                </div>

                <!-- 配料部分标题 -->
                <h3>配料列表</h3>
                <div id="ingredients-list">
                    <!-- 第一个配料条目 (无移除按钮) -->
                    <div class="ingredient-entry">
                         <div class="inputs-wrapper">
                            <div class="input-column name-column">
                                <label class="ingredient-label" for="ingredient-name-1">配料 1 名称:</label>
                                <input type="text" id="ingredient-name-1" name="ingredient-name[]" class="ingredient-name" placeholder="例如：金酒" required>
                            </div>
                            <div class="input-column volume-column">
                                <label class="ingredient-label" for="ingredient-volume-1">体积 (ml):</label>
                                <input type="number" id="ingredient-volume-1" name="ingredient-volume[]" class="ingredient-volume" step="any" min="0" placeholder="例如：50" required>
                            </div>
                            <div class="input-column abv-column">
                                <label class="ingredient-label" for="ingredient-abv-1">ABV (%):</label>
                                <input type="number" id="ingredient-abv-1" name="ingredient-abv[]" class="ingredient-abv" step="any" min="0" max="100" placeholder="例如：40" required>
                            </div>
                        </div>
                        <!-- 第一个条目没有移除按钮 -->
                    </div>
                    <!-- 其他配料条目将动态添加到这里 -->
                </div>

                <!-- 按钮组 -->
                <div class="button-group" style="margin-top: 25px; display: flex; flex-wrap: wrap; gap: 15px; align-items: center;">
                    <button type="button" id="add-ingredient-btn" class="secondary-action">添加更多配料</button>
                    <button type="submit" id="submit-recipe-btn">确认并添加配方</button>
                </div>
            </form>
            <!-- 消息提示区域 -->
            <div id="add-message" class="message" style="display: none; margin-top: 20px;"></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Cybar<br>made by 252</p>
    </footer>

    <script src="script.js"></script> <!-- Link to the specific JS for this page -->
    <script src="/js/global.js"></script> <!-- Add global script -->
</body>
</html>
